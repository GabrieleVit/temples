<!DOCTYPE html>
<html>
<head>
	
	<title>Roman Sacred Buildings</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />

	<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
<!-- Pretty Stamen maps -->
	<script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js?v1.3.0"></script>
<!--  My datafile -->
	<script src="temples.js" type="text/javascript"></script>

	<style>
		#map {
			width: 80%;
			height: 600px;
			margin: auto;
			border: 2px black solid;
		}
	</style>

</head>
<body>
<h1>Database of Roman temples</h1>
<table>
	<tr>
		<td>Load map with markers colored by <button class="function" onclick="layer_by_sex()">sex of deity</button> or by <button class="function" onclick="layer_by_type()">type of structure</button> or by <button class="function" onclick="layer_by_century()">century BC of construction</button> or by <button class="function" onclick="layer_by_orientation()">orientation</button>.</td>
		<td>Or pick one from the menu: 
		<form id="aform" style="display:inline">
			<select id="mymenu" size="1">
				<option value="nothing" selected="selected">none</option>
				<option value="sex">sex of deity</option>
				<option value="type">type of structure</option>
				<option value="century">century BC of construction</option>
				<option value="orientations">direction of orientation</option>
			</select>
		</form>
		</td>
	</tr>
</table>

<br>
<br>

<div id='map'></div>

<script type="text/javascript">

var selectmenu=document.getElementById("mymenu")
selectmenu.onchange=function(){
  var chosenoption=this.options[this.selectedIndex]
switch (chosenoption.value) {
  case "sex":
    layer_by_sex();
    break;
  case "type":
    layer_by_type();
    break;
  case "century":
    layer_by_century();
    break;
  case "orientations":
    layer_by_orientation();
    break;
  case "nothing":
    clearLayers();
    clearControl();
    map.addLayer(osm);
    map.setZoom(mapZoom);
  }
}
</script>

<script type="text/javascript" src="scripts/load_icons.js"></script>
<script type="text/javascript" src="scripts/load_basemaps.js"></script>
<script type="text/javascript" src="scripts/function_clear_layers.js"></script>
<script type="text/javascript" src="scripts/function_clear_controls.js"></script>
<script type="text/javascript" src="scripts/function_layer_by_sex.js"></script>
<script type="text/javascript" src="scripts/function_layer_by_type.js"></script>
<script type="text/javascript" src="scripts/function_layer_by_century.js"></script>
<script type="text/javascript" src="scripts/function_layer_by_orientation.js"></script>
<script type="text/javascript" src="scripts/leaflet.rotatedMarker.js"></script>

<script>
// Create map without layers since the user will do that.

// Define the center of the map, now set to show all markers, formerly Rome [41.893, 12.48]
	var	mapCenter = [37.57659, 23.81455],
		mapZoom = 5.5;

	var map = L.map('map', {
		center: mapCenter,
		zoom: mapZoom,
		minZoom: 3,
		zoomSnap: .5,
		zoomDelta: .5,
		layers: [osm]
		});

//var currentMap = "";

L.control.scale({position: 'bottomright'}).addTo(map);

/* 
  // For testing
	map.on('click', function() {
	alert(map.hasLayer(osm));
	});
 */

</script>

</body>
</html>
